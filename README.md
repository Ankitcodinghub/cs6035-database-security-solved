# cs6035-database-security-solved



**<span style='color:red'>TO GET THIS SOLUTION VISIT:</span>** https://www.ankitcodinghub.com/product/cs6035-database-security-solved/

<h2>Description</h2>



<div class="kk-star-ratings kksr-auto kksr-align-center kksr-valign-top" data-payload="{&quot;align&quot;:&quot;center&quot;,&quot;id&quot;:&quot;111635&quot;,&quot;slug&quot;:&quot;default&quot;,&quot;valign&quot;:&quot;top&quot;,&quot;ignore&quot;:&quot;&quot;,&quot;reference&quot;:&quot;auto&quot;,&quot;class&quot;:&quot;&quot;,&quot;count&quot;:&quot;1&quot;,&quot;legendonly&quot;:&quot;&quot;,&quot;readonly&quot;:&quot;&quot;,&quot;score&quot;:&quot;5&quot;,&quot;starsonly&quot;:&quot;&quot;,&quot;best&quot;:&quot;5&quot;,&quot;gap&quot;:&quot;4&quot;,&quot;greet&quot;:&quot;Rate this product&quot;,&quot;legend&quot;:&quot;5\/5 - (1 vote)&quot;,&quot;size&quot;:&quot;24&quot;,&quot;title&quot;:&quot;CS6035 Database Security  Solved&quot;,&quot;width&quot;:&quot;138&quot;,&quot;_legend&quot;:&quot;{score}\/{best} - ({count} {votes})&quot;,&quot;font_factor&quot;:&quot;1.25&quot;}">
            
<div class="kksr-stars">
    
<div class="kksr-stars-inactive">
            <div class="kksr-star" data-star="1" style="padding-right: 4px">
            

<div class="kksr-icon" style="width: 24px; height: 24px;"></div>
        </div>
            <div class="kksr-star" data-star="2" style="padding-right: 4px">
            

<div class="kksr-icon" style="width: 24px; height: 24px;"></div>
        </div>
            <div class="kksr-star" data-star="3" style="padding-right: 4px">
            

<div class="kksr-icon" style="width: 24px; height: 24px;"></div>
        </div>
            <div class="kksr-star" data-star="4" style="padding-right: 4px">
            

<div class="kksr-icon" style="width: 24px; height: 24px;"></div>
        </div>
            <div class="kksr-star" data-star="5" style="padding-right: 4px">
            

<div class="kksr-icon" style="width: 24px; height: 24px;"></div>
        </div>
    </div>
    
<div class="kksr-stars-active" style="width: 138px;">
            <div class="kksr-star" style="padding-right: 4px">
            

<div class="kksr-icon" style="width: 24px; height: 24px;"></div>
        </div>
            <div class="kksr-star" style="padding-right: 4px">
            

<div class="kksr-icon" style="width: 24px; height: 24px;"></div>
        </div>
            <div class="kksr-star" style="padding-right: 4px">
            

<div class="kksr-icon" style="width: 24px; height: 24px;"></div>
        </div>
            <div class="kksr-star" style="padding-right: 4px">
            

<div class="kksr-icon" style="width: 24px; height: 24px;"></div>
        </div>
            <div class="kksr-star" style="padding-right: 4px">
            

<div class="kksr-icon" style="width: 24px; height: 24px;"></div>
        </div>
    </div>
</div>
                

<div class="kksr-legend" style="font-size: 19.2px;">
            5/5 - (1 vote)    </div>
    </div>
<h4><span style="color: #ff0000;"><strong>2024 SOLUTION:</strong></span><a href="https://www.ankitcodinghub.com/product/2024-project-database-security-solved/">https://www.ankitcodinghub.com/product/2024-project-database-security-solved/</a></h4>
<h4><span style="color: #ff0000;"><strong>2024 SUMMER SOLUTION: <span style="color: #00ccff;"><a style="color: #00ccff;" href="https://www.ankitcodinghub.com/product/cs6035-summer2024-database-security-payloads-steps-solved/">LINK</a></span></strong></span></h4>
This post is to announce that the Database Security project releases at midnight on Wednesday, September 6. You will have ten days to finish, and it will close on Saturday, September 16th at 11:59 PM EDT. Instructions are here:

<a href="https://github.gatech.edu/pages/cs6035-tools/cs6035-tools.github.io/Projects/DatabaseSecurity/">https://github.gatech.edu/pages/cs6035-tools/cs6035-tools.github.io/Projects/DatabaseSecurity/</a>

The project (and most other subsequent projects) will be performed on a class VM that already has all of the projects. Each project will have its own username and password to log into the VM to do work. For the DB Security project, this is the username and password:

User name: <strong>dbsec</strong>

Password: <strong>sql-slammer-2003</strong>

VirtualBox can be downloaded from here:

<a href="https://www.virtualbox.org/">https://www.virtualbox.org/</a>

The VM image may be downloaded from here:

<a href="https://cs6035.s3.amazonaws.com/CS6035-Fall-2023-RC1.ova">https://cs6035.s3.amazonaws.com/CS6035-Fall-2023-RC1.ova</a>

<strong>Hash/Checksum of VM Image</strong>

Algorithm : SHA256

Hash&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; : DD5892C4D5139F224367B838E2497F2573C3AB7EBAA7182D7588987928B0AC47

You will need a program to run virtual machines, but for this class, the TA team is only supporting the latest version of VirtualBox. If you try other hypervisors, they might work, but if you run into trouble the TA team will not assist you. Also, Apples that use the Mx (M1 or M2) processors cannot run this VM and therefore also will not be supported.

Please reference the FAQ for the project which we will add to as the project goes forward (this is the first term we will be running this project as a required project for the entire class so I expect to learn a few things along the way).

<strong>Do I need to use the provided VM for this project?</strong>

<ul>
<li>Yes. You won’t be able to complete the project without using it, as the environment is set up expressly to handle this project.

**NOTE: **To ensure that the autograder accurately grades your submission, create your .json file in a text editor on the VM and submit it from the VM. Do not use a Word document program like LibreOffice or Word. The submission must be in proper JSON format for the autograder to give credit.</li>
</ul>
<strong>The version of Virtual Box used to create the VMs: 7.0.8 r156789 (Qt5.15.2)</strong>

<strong>VMWare Workstation 17 has been tested; however, VirtualBox 7.0 is recommended.</strong>

<ol>
<li><strong>Q)</strong><strong>Where do I download the VM?</strong></li>
</ol>
<ul>
<li>The link will be provided in the ED Post for the release of the project.</li>
</ul>
<ol>
<li><strong>Q) I have an M1-based Mac. Can I run the VM?</strong></li>
</ol>
<ul>
<li>No, you have to use an Intel/AMD-based x86_64 CPU for this project</li>
</ul>
<ol>
<li><strong>Q) The VM Password is:</strong></li>
</ol>
to be announced when the project is open

<ol>
<li><strong>Q) Should I update the VM?</strong></li>
</ol>
<ul>
<li>There is not a reason to update the machine.</li>
<li>You&nbsp;<strong><em>can</em></strong>&nbsp;allocate more resources via the Virtual Box (or another platform) configurations depending on your local host, but you shouldn’t need to.</li>
</ul>
<ol>
<li><strong>Q) My Virtual Machine is slow or not turning on; what should I do?</strong></li>
</ol>
<ul>
<li>Feel free to increase the amount of RAM in the Virtual Machine. You may also have to disable 3D acceleration within the Virtual Machine.
<ul>
<li>By default the VM runs with a single core and 2GB RAM. The recommended order of operation to try is as follows:
<ul>
<li>Try disabling 3D acceleration 1st</li>
<li>Add a second core</li>
<li>Double the memory to 4GB</li>
</ul>
</li>
</ul>
</li>
<li>While the&nbsp;<strong>below setup is not fully supported for this project and any changes you make to your setup are at your acceptance of risk</strong>, if the GUI is still extremely slow/unusable, then you can try (<strong>not advised or supported</strong>):</li>
</ul>
<ul>
<li style="list-style-type: none;">
<ul>
<li>With the VM off, right-click on the VM (CS6035-Student-Summer-2023-DBSec and click Settings.</li>
<li>Click on the Network Option.</li>
<li>Use Port Forwarding in the VM by changing the&nbsp;<strong>Network Adapter</strong>&nbsp;to&nbsp;<strong>NAT</strong>, expanding the&nbsp;<strong>Advanced **Options, click the **Port Forwarding</strong>&nbsp;button.</li>
</ul>
</li>
</ul>
<ol start="4">
<li>Click on the Green Plus Icon and change the Host Port to 80 and Guest Port to 80. *You may need to enter 127.0.0.1 for the Host IP and 10.0.2.15 for the Guest IP</li>
<li>If you are running a Web Service (i.e. IIS or Apache) on your Workstation that is using port 80, stop the service.</li>
<li>Start the VM</li>
<li>Log in to the VM</li>
</ol>
* Username: Provided on project release

* Password: Provided on project release

<ol start="8">
<li>Start the Container:</li>
</ol>
+ Click on the Menu Launcher Start Button (Hummigbird bottom).

+ Choose The Menu Option System Tools, then the Menu Link QTerminal.

+ Inside the Terminal window run the command: **sudo bash StartContainer.sh**

+ You may close the Terminal Window after you see the output: Container Started, currrent datetime.

<ol start="9">
<li>Notice also that the VM is set to mimic a real-world situation so that the links will come back not as localhost / 127.0.0.1 but as: \</li>
</ol>
www.gt-cs6035.com

www.homesandmore.com

www.mainstreethospital.com

www.nationalvoterregistration.com

www.communalinsurance.com

www.coderepository.com

www.vinylexpress.com

Your machine (Host) *non-VM, will not know how to resolve these sites. To trick the system, you can edit your hosts file. Cyber attack actors use this tactic to trick you into going to “fake/mimicked” sites. For instance, in your host file, it could have a bogus entry for www.capitalone.com where the site is a duplicate copy; however, it is now controlled by the threat actor, who can steal your credentials easily! *&nbsp;<strong>This is not recommended unless you have previous experience&nbsp;<em>MAKE SURE YOU REMOVE THESE ENTRIES UPON COMPLETION OF THE PROJECT** * Edit your Windows Host’s host file: * Windows: c:\Windows\System32\Drivers\etc\hosts **</em>You will need administrative elevation on the text editor you use</strong>&nbsp;* Linux: /etc/hosts * Mac: /private/etc/hosts * Add the below lines directly above the last line in the file (# End of section) 127.0.0.1 www.gt-cs6035.com 127.0.0.1 www.homesandmore.com 127.0.0.1 www.mainstreethospital.com 127.0.0.1 www.nationalvoterregistration.com 127.0.0.1 www.communalinsurance.com 127.0.0.1 www.coderepository.com 127.0.0.1 www.vinylexpress.com

<ol start="9">
<li>Open the browser of choice on your Host and browse go to the url [http://www.gt-cs6035.com](http://www.gt-cs6035.com/intro.html)</li>
<li><strong>Q) I receive an error when importing the OVA (like the one below). What should I do?</strong></li>
</ol>
<ul>
<li>Update Virtual Box to version 7.0 (specifically 7.0.8)</li>
</ul>
<ol>
<li><strong>Q) General Ambiguous errors with importing: “Error When Importing Project E_INVALIDARG (0x80070057)”</strong></li>
</ol>
<ul>
<li>This usually is due to insufficient space on the hard drive or File System mismatch (file system on Windows needs to be NTFS with VirtualBox).</li>
<li>Make sure you also have permission to be allocating storage. If you are on a work laptop with secured partitions, you may be unable to import the VM.</li>
<li>You can also try following these steps:<a href="https://www.youtube.com/watch?v=7CpkRbVOrpw">&nbsp;https://www.youtube.com/watch?v=7CpkRbVOrpw</a></li>
</ul>
<ol>
<li><strong>Q) VirtualBox is giving me weird “Kernel Driver not installed” errors (Mac).</strong></li>
</ol>
<ul>
<li>This is likely due to permissions settings. See<a href="https://mkyong.com/mac/virtualbox-kernel-driver-not-installed-rc-1908/">&nbsp;https://mkyong.com/mac/virtualbox-kernel-driver-not-installed-rc-1908/</a></li>
</ul>
<ol>
<li><strong>Q) I bricked the VM (i.e. the VM is no longer functioning).</strong></li>
</ol>
<ol>
<li>You will need to restore the VM from the OVA file.</li>
</ol>
<strong>Common troubleshooting steps for VirtualBox</strong>

<ul>
<li>enabling/disabling 3d acceleration, giving more video memory</li>
<li>increasing CPUs and/or RAM (or if you don’t have enough, maybe lowering those *Already at lowest setting)</li>
<li>enabling/disabling PAX/VT-X in the VM system settings</li>
<li>changing your Pointing Device (Settings\System) and\or turning off Mouse Pointer Integration (<a href="https://superuser.com/a/1375774/440201">https://superuser.com/a/1375774/440201</a>)</li>
<li>disable/turn off screensaver/lock *Already turned off</li>
<li>change clipboard to bidirectional – use the VirtualBox Menu (top of VM Application) and choose Devices-&gt;Shared Clipboard, and make sure it is set to Bidirectional</li>
</ul>
<ol>
<li><strong>Q) Chrome is crashing.</strong></li>
</ol>
<ul>
<li>disable/turn off the screen saver/lock</li>
<li>Make sure the VM Application is started
<ul>
<li>Start the Container:
<ul>
<li>Click on the Menu Launcher Start Button (Hummigbird bottom).</li>
<li>Choose The Menu Option System Tools, then the Menu Link QTerminal.</li>
<li>Inside the Terminal window run the command:&nbsp;<strong>sudo bash StartContainer.sh</strong></li>
<li>You may close the Terminal Window after you see the output: Container Started, currrent datetime.</li>
</ul>
</li>
</ul>
</li>
<li>After opening Chrome, wait a few seconds to allow outside the network resources to load correctly</li>
</ul>
<ol>
<li><strong>Q) I deleted or modified files by accident and can’t get them back</strong></li>
</ol>
<ul>
<li>You will need to restore the VM from the OVA file</li>
</ul>
<ol>
<li><strong>Q) How do I find my gtID?</strong></li>
</ol>
<ol>
<li><a href="https://oscar.gatech.edu/">https://oscar.gatech.edu/</a></li>
<li>Click “Secure Access Login”</li>
<li>Click “Student Services &amp; Financial Aid”</li>
<li>Click “Student Records”</li>
<li>Click “Unofficial Transcript</li>
<li>At the top right of the screen, you should see your GTID (nine digits) next to your name.</li>
</ol>
<ol>
<li><strong>Q)</strong><strong>I’m confused about how to start.</strong></li>
</ol>
<ol>
<li>Start the Container: + Click on the Menu Launcher Start Button (Hummigbird bottom). + Choose The Menu Option System Tools, then the Menu Link QTerminal. + Inside the Terminal window run the command:&nbsp;<strong>sudo bash StartContainer.sh</strong>&nbsp;+ You may close the Terminal Window after you see the output: Container Started, currrent datetime.</li>
<li>Double-click on Chrome Web Browser Icon on the Desktop (this will open Chrome)
<ol>
<li>If Chrome does not open to&nbsp;<a href="http://www.gt-cs6035.com/intro.html">http://www.gt-cs6035.com/intro.html</a>&nbsp;automatically, browse to this website or look for the DBSec Bookmark.</li>
</ol>
</li>
</ol>
<ol>
<li><strong>Q) Menu Links do not load / Website(s) are not loading (We’re having trouble finding that site).</strong></li>
</ol>
<ol>
<li>Wait a little while as the VM may just be spinning to catch up (typically will be seen if you rush into it after you Start the Container).</li>
<li>Stop the Container: + Click on the Menu Launcher Start Button (Hummigbird bottom). + Choose The Menu Option System Tools, then the Menu Link QTerminal. + Inside the Terminal window run the command:&nbsp;<strong>sudo bash StopContainer.sh</strong>&nbsp;+ You may close the Terminal Window after you see the output: Container Stopped, currrent datetime.</li>
<li>Stop the Container: + Click on the Menu Launcher Start Button (Hummigbird bottom). + Choose The Menu Option System Tools, then the Menu Link QTerminal. + Inside the Terminal window run the command:&nbsp;<strong>sudo bash StartContainer.sh</strong>&nbsp;+ You may close the Terminal Window after you see the output: Container Started, currrent datetime.</li>
<li>Double-click on Chrome Web Browser Icon on the Desktop (this will open Chrome)
<ol>
<li>If Chrome does not open to&nbsp;<a href="http://www.gt-cs6035.com/intro.html">http://www.gt-cs6035.com/intro.html</a>&nbsp;automatically, browse to the website as mentioned earlier or look for the DBSec Bookmark.</li>
</ol>
</li>
<li>If you still experience issues, try restarting your VM.
<ol>
<li>Repeat Steps 2-4</li>
</ol>
</li>
</ol>
<ol>
<li><strong>Q)</strong><strong>Task 0 submission fails.</strong></li>
</ol>
<ol>
<li>Make sure your GTID is correct, with no beginning or ending spaces</li>
<li>Re-complete TASK 0</li>
</ol>
<ol>
<li><strong>Q) Task 0 states, “You have reached the maximum # of entries; the VM will need to be restored.”</strong></li>
</ol>
<ul>
<li>You will need to restore the VM from the OVA file.</li>
</ul>
<ol>
<li><strong>Q)</strong><strong>Do I need to re-do Task 0 every time I return to the VM to complete another Task?</strong></li>
</ol>
<ul>
<li>No, you only need to do Task 0 once
<ul>
<li>The exceptions to this are as follows:
<ul>
<li>You did not enter your correct GTID and your Gradescope Submission for Task0 fails.</li>
<li>The VM was in an unstable state and not saved correctly. When trying to complete any task you receive the following question in the FAQ.</li>
</ul>
</li>
</ul>
</li>
</ul>
<ol>
<li><strong>Q)</strong><strong>Task 1-4 states, “Task 0 needs to be completed before this Task is unlocked”. submission fails.</strong></li>
</ol>
<ol>
<li>Complete TASK 0</li>
<li>If you already completed Task 0 and the system was reset, compare the hash you received upon your successful Gradescope submission with the hash you receive from re-completing Task 0</li>
</ol>
<ol>
<li><strong>Q)</strong><strong>I’m confused about how to solve Task(s) 1-4 and how I can solve this.</strong></li>
</ol>
<ol>
<li>Read the Writeup and pay close attention to each Tasks section
<ul>
<li>The Writeup is also the Intro page (<a href="http://www.gt-cs6035.com/intro.html">http://www.gt-cs6035.com/intro.html</a>) for the project</li>
</ul>
</li>
<li>Read through the corresponding DBSec Task in ED to see if a similar question has already been asked and answered</li>
<li>Post your question in the corresponding DBSec Task in ED
<ul>
<li><strong><em>Note: All posts made outside the preconfigured DBSec Task posts will be redirected. This includes private posts.</em></strong></li>
</ul>
</li>
<li>Extra hints for reading the FAQ (not in the Writeup):
<ul>
<li>Report Columns for Tasks 1 and Task 2 are sortable (via click)</li>
<li>Javascript debugging via Web Developer Tools is helpful for Tasks 3 and 4</li>
<li>The lessons learned, and logic used in Task 1 will help you in Task 2</li>
<li>The lessons learned, and logic used in Task 3 will help you in Task 4</li>
<li>What does “remembering that they often use the same logic on the client and server side mean?
<ul>
<li>Once you access the client-side code via the browser’s Developer Tools and find out how to bypass its security implementation, you will need to do this a again to bypass the database’s security implementation. The database security logic is the exact same as the client-side security logic.</li>
</ul>
</li>
</ul>
</li>
</ol>
<ol>
<li><strong>Q) Should my hashes be of different lengths?</strong></li>
</ol>
<ul>
<li>flag0 will be your longest hash.</li>
<li>flag1 &amp; flag2 (same length) will be your shortest.</li>
<li>flag3, flag4, flag5, flag6 (same length) will be between flag0 &amp; flag1/flag2.</li>
</ul>
<ol>
<li><strong>Q) Gradescope will not allow any more submissions.</strong></li>
</ol>
<ul>
<li>There is a&nbsp;<strong>limit of ten submissions</strong>&nbsp;for this project</li>
<li>We are sorry if you have submitted your JSON file ten times, but you may no longer submit for this project.</li>
<li>If you feel this is by error, open a private ED discussion asking a TA to review it. Note that any decision will be based on the data provided by the Gradescope audit logs.</li>
</ul>
&nbsp;

&nbsp;

&nbsp;

Background

Good News, Everyone!” A penetration testing firm has hired you, and as your first assignment, you’ve been given a small portfolio of websites to test. You immediately notice that the pages of different clients look very similar, with similar structure and conventions. With a little more digging, you determine that the same software company created them. Having this information, you know it’s likely that any vulnerability you find on one site will likely be seen on every client’s site. You also recognize the style of the pages and vulnerabilities and feel you have worked with this company in the past, remembering that they often use the same logic on the client and server-side.

Your goal is to bring visibility to these vulnerabilities by finding sensitive data that is not intended to be viewed, as well as testing the client’s security on sites where user input is required. As a pen tester, you will have to wear many hats. Good luck, and we hope you enjoy learning about a couple of database attacks.

<strong>SETUP:</strong>

To get set up for the tasks,&nbsp;<strong><u>carefully</u></strong>&nbsp;follow the steps below.

Log into the VM with the following user.

Username: Provided on project release

Password: Provided on project release

project_dbsec.json is available on the desktop. Put all hashes in this file and submit it as your final deliverable in Gradescope.

<ul>
<li>To edit project_dbsec.json:
<ul>
<li>Right-click on the file (located on the desktop)</li>
<li>Choose the Menu Option Open With</li>
<li>Choose the Menu Option Vim</li>
</ul>
</li>
</ul>
To access the project:

<ul>
<li>Update Notifier Popup Message (May or may not display):
<ul>
<li>You do not need to run the system upgrade and click the cancel button.</li>
</ul>
</li>
<li>Start the Container:
<ul>
<li>Click on the Menu Launcher Start Button (Hummigbird bottom).</li>
<li>Choose The Menu Option System Tools, then the Menu Link QTerminal.</li>
<li>Inside the Terminal window run the command:&nbsp;<strong>sudo bash StartContainer.sh</strong></li>
<li>You may close the Terminal Window after you see the output: Container Started, currrent datetime.</li>
</ul>
</li>
<li>Open Chrome Web Browser:
<ul>
<li>Click on the Menu Launcher Start Button (Hummingbird button).</li>
<li>Choose The Menu Option Internet, then the Menu Link Google Chrome.</li>
<li>In the addressbar go to the URL&nbsp;<a href="http://www.gt-cs6035.com/intro.html">http://www.gt-cs6035.com</a>&nbsp;or look for the DBSec Bookmark</li>
</ul>
</li>
<li>Start with Task 0
<ul>
<li>Once complete, submit the flag0 hash to verify your GTID is correct, as all Tasks are based on this first hash!</li>
</ul>
</li>
<li>Other than Task 0 being completed first, Tasks 1 – 4 can be completed in whatever order you choose. However, the instructions are laid out for simplicity, completing the tasks in order.</li>
</ul>
<strong>GATECH_ID</strong>

<strong>NOTE: This is not the Georgia Tech Username; it is the gtId you can find on your Buzzcard or by following the below steps:</strong>

<ol>
<li><a href="https://oscar.gatech.edu/">https://oscar.gatech.edu/</a></li>
<li>Click “Secure Access Login”</li>
<li>Click “Student Services &amp; Financial Aid”</li>
<li>Click “Student Records”</li>
<li>Click “Unofficial Transcript</li>
<li>At the top right of the screen, you should see your GTID (nine digits) next to your name</li>
</ol>
<strong>Be very careful! When you copy and paste, be sure to strip off all leading spaces or special characters.</strong>

&nbsp;

&nbsp;

<strong><u>Task 0: GTID Verification (flag0 – 5 pts)</u></strong>

<strong>*NOTE – Task 0 has 1 flag (flag0)</strong>

This task will set up the rest of the project, which is why we are offering five free points – like where you got bonus points in kindergarten for putting your name (and spelling it right) on a test.

Note that you&nbsp;<u>only have twenty-five attempts</u>&nbsp;at entering your correct GTID, at which point you will be locked out and have to restore your VM.

To earn your hash for flag0, you must perform the following actions.

<ol>
<li>Click on the Task 0 Menu from the home page. The page will open in a new tab. \</li>
</ol>
<ol>
<li>Enter your GTID and click Submit (the URL to obtain your id is provided in the link – Where do I find my GTID?)</li>
</ol>
Hints:

<ul>
<li>After obtaining your hash, add your flag0 hash into the JSON file and submit it to Gradescope to verify it is correct before proceeding to Tasks 1-4!</li>
</ul>
Include your flag0 hash into the JSON file, and now, onto Task 1!

&nbsp;

&nbsp;

<strong><u>TASK 1: INFERENCE ATTACK- #1 (flag1 – 15 pts)</u></strong>

<strong>*NOTE – Task 1 has 1 flag (flag1)</strong>

Your first two attacks will involve what is called an inference attack. This is not an actual hack against a system, and it often doesn’t involve hackers at all. Data security is about keeping data confidential on a need-to-know basis, and most data at most companies is secured by permissions that limit who can see data. These permissions can be at the level of the table (the full list of a particular type of data, for instance the employee table contains the basic data about employees), the level of a row (a row in this case would correspond to the record for a single employee), or the level of a column (in this case a piece of information about an employee, like gender or position at work). However, it takes thought and care to maintain these controls, and often they can be inadvertently and carelessly circumvented. An inference attack usually involves access to standard reports available to a wide range of employees. Consider the sensitive area of salary. A company might consider that a column to restrict in terms of access and might well make an employee roster report that anyone could view that does not list people’s salaries. However, there may be other standard reports a company uses that are not carefully designed to protect those controls. By using two or more reports together, a rank-and-file employee can discover salary details they are not supposed to know by combining the information on the two reports and inferring the missing data, thus the name “inference attack”. You use multiple data sets to learn information that you are not supposed to know.

This is what has happened with these first reports you are looking at that were provided to you for testing. You have been given four internal reports for a single company. One report is a simple employee roster, one report lists out how long employees have been members of the organization, one report groups data on all employees together to provide the average salary for employees based upon the state that they live in, and the final report lists the average salary for employees based upon how long they have been a part of the company. Individually, these four reports do not violate the controls that the client has placed on access to sensitive HR data. However, as you do your analysis, you realize that there has been a hole opened in those controls to someone who puts the reports together and does a little analysis of the contents of the reports.

The audit reveals that at minimum at least one person’s salary is publicly available to all employees that can run these four reports. To successfully complete task 1, you need to find a hole in the protection where you can definitively find the actual salary of at least one employee. Each employee will have a hash associated with them. This hash is unique to your VM and was generated when you completed task 0. Once you have identified which employee has the exposed salary, record the hash value displayed for that employee on the report in your JSON file for flag1. You will pass task 1 if you have the correct hash value. Remember that you only get 10 submissions for the entire project, so if you randomly try different hash codes, you will only hurt yourself later in the project.

To earn your hash for flag1, you must perform the following actions.

<ol>
<li>Hover over the Task 1 Menu, which will display four reports: Employee, Duration, Salary by State, and Salary by Duration. \</li>
</ol>
<ol>
<li>Click on the report you want to view (i.e., Employee Report). The report will open in a new tab.</li>
<li>Review the data on all four reports. You are searching through the data to see if you can find at least one employee whose salary you can positively identify exactly.</li>
<li>Once you have found an employee whose salary you know exactly, look at the left of their record on the employee report. In the ID column of the report, there will be a hash (ID) for them. Record this hash and enter it into your JSON file. NOTE: the hashes are generated in connection with your GTID so they will be unique to you and your account.</li>
</ol>
Hints:

<ul>
<li>You need to find a place where data is isolated to a single person. Look throughout the four reports to see if there is anything that makes the data unique at an individual level. You might need to combine multiple reports to do this.</li>
<li>If it looks like a table and acts like a table, it is probably a table. While this is not necessary to complete the task, you can copy data from the report(s) into a spreadsheet program to manipulate it. This may assist you in tracking down the hole that exposes salaries.</li>
</ul>
Include your flag1 hash into the JSON file, and now, onto Task 2!

&nbsp;

&nbsp;

<strong><u>TASK 2: INFERENCE ATTACK- #2 (flag2 – 20 pts)</u></strong>

<strong>*NOTE – Task 2 has 1 flag (flag2)</strong>

Now that you have seen how an inference attack can compromise data in a single company, we next consider how inference attacks can be used to compromise data by combining unrelated data sets.

For this attack, consider four completely unrelated data sources. All four are internet facing and therefore available to anyone with internet access. The first report is a sample report produced for a local hospital concerning types of procedures done within the last few years. The second report is a voter registration database, which has certain well-established fields in it (you could go to your local board of elections and get a report like this on all registered voters in your district most likely). The third report is a partially de-identified report for an insurance company for a sample data set for public use built by the same developers we have been dealing with. “Partially de-identified” means that though there were some attempts made to remove an obvious link to actual patients, there is still some data left on the report that might link back to a real person if looked at carefully. We also have provided a helpful list of medical codes to link to the hospital report.

The problem here comes from the incomplete deidentification of the data in the insurance company’s claim report. Because of this, it may be possible to join these four sources together somehow to find a specific person’s medical history to know that on a specific date, a specific person had a specific procedure done. This is of course a significant breach of HIPAA regulations (in fact, this exercise was inspired by the incident where the medical history of the governor of Massachusetts was made public in just such a fashion). Your objective in this inference attack is to find a specific person who had a procedure that you can link by name and identity to a specific attack in the medical data using all four data sources. You may want to look up the work done on the patient using the codes in the medical history on the medical codes list, which might be helpful in the process. You will find a hash next to each person in the voter report. Select the correct hash as your response to this task by listing the hash in your JSON file for flag2.

To earn your hash for flag2, you must perform the following actions.

<ol>
<li>Hover over the Task 2 Menu, which will display four sites: Medical History, Voter Registration, Insurance Claims, and Medical Codes. \</li>
</ol>
<ol>
<li>Click on the site you want to view (i.e., Medical History). The site will open in a new tab.</li>
<li>You will need to carefully examine all four sources to see where a patient’s history got compromised. It will be up to you to determine how to do this.</li>
<li>Once you have identified the exposed patient, look up the hash code (ID Column) on the voter registration report for the exposed patient and record it. NOTE: the hashes are specific to you and your GTID as provided in task 0 (and we will use that ID when we grade in Gradescope).</li>
</ol>
Hints:

<ul>
<li>As with the prior task, feel free to make liberal use of copying data from the VM into a spreadsheet or other similar program on your host, and feel free to do whatever analysis you need to do to figure out the record you seek. As in Task 1, this is not required to complete this task.</li>
</ul>
Include your flag2 hash into the JSON file, and now, onto Task 3!

&nbsp;

&nbsp;

<strong><u>TASK 3: SQL INJECTION – #1 (flag3 – 10 pts / flag4 – 15 pts / flag5 – 15 pts)</u></strong>

<strong>*NOTE – Task 3 has 3 flags (flag3, flag4, flag5)</strong>

The next two tasks involve the most common database attack – SQL injection. This attack is one of the most common information security attacks in the world, and yet it is also one of the easiest to mitigate (in other words, lazy or careless programming is what causes this attack to be possible). SQL injection is possible when inputs are not sanitized. That sounds complicated, but what that means simply is that when you give someone a form or a web page to enter data, and there are slots for a user to type in, as a programmer you are responsible to ensure that somewhere in the process those input fields are inspected and any bad input is sanitized. SQL injection happens when the contents of the input fields without data sanitization are used in a text string to create a database query and sent to the database server in a form the developer did not intend.

To get into the basics of SQL injection, you can start by looking up online “SQL Injection Cheat Sheet” which is a helpful introduction to the topic. But what you will need to do to accomplish this task is figure out how to write some basic SQL code (the complexity won’t be in the SQL code, but in the bypass of the SQL Injection security) that can be placed into the input field of a form and passed to the website in such a way that it is a valid SQL statement that does things that the original developer did not intend. This can be as simple as simply bypassing security, collecting information you should not have, or at worst you will be making actual changes to the data of the website that the website owners do not want at all. Once the hole exists, your power to exploit it can be immense as long as you can guess the structure of the underlying database, or to map it out.

For Task 3, you have a website where your user ID is your GTID, as you entered on Task 0. The site wants to upgrade its old Legacy Login page. The legacy page’s main security is done by checking to see if there is a direct match to a user by the username (your GTID). You do not know and will not receive the password to enter the system. For flag3, the developers are asking you to determine the difficulty in bypassing the existing security, knowing that a SQL Injection attack is possible. The developers want to make an attempt to mitigate the risk of such an attack; however, they are wondering if they should be using just client-side data sanitization or both client and server-side data sanitization, with the server-side and client-side data sanitization being the same. For flag4, you will attempt to bypass the security using client-side data sanitization. For flag5, you will attempt to bypass the security using both client and server-side data sanitization. The client provided a snippet of the code they used on the legacy login page. You can use this code to try and figure out how to perform the SQL injection. When you succeed, you will log into the website using your GT ID and no password. The injection will bypass the password requirements and log you in immediately. Once logged in, the hash for flag3/flag4/flag5 keyed to your GT ID will be displayed. All three hashes for Task 3 will be different.

To earn your hash for flag3/flag4/flag5, you must perform the following actions.

<ol>
<li>Hover over the Task 3 Menu, which will display three links: Legacy Login, New Login – Option 1, New Login – Option 2. \</li>
</ol>
<ol>
<li>Click on a link. The page will open in a new tab.</li>
</ol>
<ol>
<li>For flag3 (Legacy Login) – this is a straight SQL Injection on the password field.</li>
<li>For flag4 (New Login – Option 1) – this is a client-side data sanitization SQL Injection on the password field.</li>
<li>For flag5 (New Login – Option 2) – this is both a client and server-side data sanitization (2x) SQL Injection of the password field.</li>
</ol>
<ol>
<li>Enter in your GTID in the username input field and any additional characters in the password input field you determine will cause the injection. Then press the login button to submit.</li>
<li>If your information is correct, you will log into the system and receive your hash.</li>
</ol>
Hints:

<ul>
<li>For flag4 and flag5, you should use the browser’s Developer Tools to access and debug the client-side code.</li>
<li>For flag 5, remember that there will be server-side data sanitization, that you do not have access to, but know the logic will be a duplicate of the client-side data sanitization.</li>
<li>There is difference between encoding, escaping, and sanitization. Understand the difference and the validity of using one or the other, remembering that the client/server-side code is doing sanitization.</li>
<li>Here is the login code that you were able to obtain from the legacy login page::</li>
</ul>
function login($username, $password) {

$sql = “SELECT * FROM users WHERE eid=’$username’ AND password=’$password'”;

$userdata = $this-&gt;db-&gt;query($sql)-&gt;next();

if ($userdata) {

return true;

} else {

return false;

}

}

Include your flag3, flag4, and flag5 hash into the JSON file, and now, onto Task 4!

&nbsp;

&nbsp;

<strong><u>TASK 4: SQL INJECTION – #2 (flag6 – 20 pts)</u></strong>

<strong>*NOTE – Task 4 has 1 flag (flag6)</strong>

In this case, you will be looking at a search engine for a database of music albums for a music store. You have discovered that there is a page called “schema” which offers the user a view of the underlying metadata of the table used to populate the main report. By now, if you have been paying attention, the designers of these sites have followed a similar pattern for how their sites work, especially if you look at the hyperlinks that lead to the pages. You know therefore that there is probably a way to get admin access to that schema leveraging that knowledge of how they use links. And that means that there might be table definitions available to users who poke around and try to find things that they should not.

So your task then is first to figure out if you can find any additional information about tables in the database, and second to figure out how to leverage the information you find in the context of a SQL injection. If you are successful in crafting a SQL injection, you will find an actual database account appear on the report that you can use to log into the system using the “Login” screen on task 4. If you have the correct login information you can only obtain by SQL injection, you can enter the login information into that screen and get access to the management console. Of course, for our purposes “management console” is just the hash you need to get credit for the attack. Once the hash appears on the screen, you can enter it into your JSON file.

To earn your hash for flag6, you must perform the following actions.

<ol>
<li>Hover over the Task 4 Menu, which will display four links: Schema, Report, and Login. \</li>
</ol>
<ol>
<li>Click on the link you want to view (i.e., Schema). The link will open in a new tab.</li>
<li>You can use the Schema link to see the schema for the table that is used to build the report. Consider based upon how the links have been designed to this point how you might be able to find out more information than this table. You might need admin access to see information.</li>
<li>Once you have found additional information, consider how you might be able to use it on the report page for a SQL injection.</li>
<li>The report search is a simple “SELECT…..FROM….WHERE” type of query using the schema you can see on the initial schema screen. Based on your previous testing, this probably means you can type in a search that will return rows from other tables in the database than intended. Once you have figured out how to execute the injection, type in your attack into the search field and click “Search”.</li>
<li>Once you have done the injection correctly, you will find a username and a password appear in the report data. Use these values to log into the management console on the “Login” screen. When you have the correct login, you will get into the system and your hash will be displayed. Record the hash into your JSON file and submit to Gradescope.</li>
</ol>
Hints:

<ul>
<li>You notice that the pages and urls for the different clients look very similar, with similar structure and conventions.</li>
<li>How can you add contents from another table to an existing SQL query to return one set of data in a report?</li>
<li>You feel you have previously worked with this company, remembering that they often use the same logic on the client and server-side. As a result, the data sanitization might have some duplication. While you don’t have access to the back end code, you can access the client-side code via the browser’s Developer Tools.</li>
<li>There is difference between encoding, escaping, and sanitization. Understand the difference and the validity of using one or the other, remembering that the client/server-side code is doing sanitization.</li>
<li>Null works great for a SQLi when you don’t know the schema, and when the developers aren’t expecting it. The developers are looking for it!</li>
<li>The login bypass logic you used from Task 3 will not work on Task 4, although the choice to attempt is up to you. We explicitly prevented SQL injection on the login screen for this exercise.</li>
</ul>
Include your flag6 hash into the JSON file and submit it to Gradescope!

&nbsp;

&nbsp;

<h2><strong><u>Troubleshooting</u></strong><a href="https://github.gatech.edu/pages/cs6035-tools/cs6035-tools.github.io/Projects/DatabaseSecurity/Troubleshooting.html">:</a></h2>
<strong>Am I on the correct page for the flag I am trying to solve?</strong>

Your browser tab will start with the flag# followed by what the page is.

i.e. – flag3 – Login (Legacy)

<strong>Menu Links do not load / Website(s) are not loading (The site can’t be reached / We’re having trouble finding that site)<u>:</u></strong>

<ul>
<li>Stop the Container:
<ul>
<li>Click on the Menu Launcher Start Button (Hummingbird button).</li>
<li>Choose The Menu Option System Tools, then the Menu Link QTerminal.</li>
<li>Inside the Terminal window run the command:&nbsp;<strong>sudo bash StopContainer.sh</strong></li>
<li>You can proceed to the next step after you see the following output: Container Started, currrent datetime.</li>
</ul>
</li>
<li>Start the Container:
<ul>
<li>Click on the Menu Launcher Start Button (Hummingbird button).</li>
<li>Choose The Menu Option System Tools, then the Menu Link QTerminal.</li>
<li>Inside the Terminal window run the command:&nbsp;<strong>sudo bash StartContainer.sh</strong></li>
<li>You may close the Terminal Window after you see the output: Container Started, currrent datetime.</li>
</ul>
</li>
<li>Open Chrome Web Browser:
<ul>
<li>Click on the Menu Launcher Start Button (Hummingbird button).</li>
<li>Choose The Menu Option Internet, then the Menu Link Google Chrome.</li>
<li>In the addressbar go to the URL&nbsp;<a href="http://www.gt-cs6035.com/intro.html">http://www.gt-cs6035.com</a>&nbsp;or look for the DBSec Bookmark</li>
</ul>
</li>
<li>If you still experience issues, try restarting your VM.
<ul>
<li>Repeat Steps 2-4</li>
</ul>
</li>
</ul>
<strong><u>Copy/Paste betwen Workstation and Virtual Machine is not working:</u></strong>

<ol>
<li>Start your Virtual Machine (VirtualBox) Application (Image)</li>
<li>Use the VirtualBox Menu (top of VirtualBox Application) and choose Devices-&gt;Shared Clipboard, and make sure it is set to Bidirectional</li>
</ol>
<strong><u>Task 0 submission fails:</u></strong>

<ol>
<li>Make sure your GTID is correct, with no beginning or ending spaces</li>
<li>Make sure everything in between the “” is replaced with your hash (this includes the &lt;&gt;</li>
<li>Re-complete&nbsp;<a href="https://github.gatech.edu/pages/cs6035-tools/cs6035-tools.github.io/Projects/DatabaseSecurity/Task0.html">TASK 0</a></li>
</ol>
<strong><u>Tasks 1-4 states that “Task 0 needs completed before this Task is unlocked”:</u></strong>

<ol>
<li>Complete&nbsp;<a href="https://github.gatech.edu/pages/cs6035-tools/cs6035-tools.github.io/Projects/DatabaseSecurity/Task0.html">TASK 0</a></li>
<li>If you already completed Task 0 and the system was reset, compare the hash you received upon your successful Gradescope submission with the hash you receive from re-completing Task 0</li>
</ol>
<strong><u>Task 0 states, “You have reached the maximum # of entries; the VM will need to be restored”:</u></strong>

<ol>
<li>You will have to restore the VM from the OVA file.</li>
</ol>
<strong><u>I bricked the VM (i.e. the VM is no longer functioning):</u></strong>

<ol>
<li>You will have to restore the VM from the OVA file.</li>
</ol>
<strong><u>Gradescope will not allow any more submissions:</u></strong>

<ol>
<li>There is a&nbsp;<strong>limit of ten submissions</strong>&nbsp;for this project</li>
<li>If you have submitted your JSON file 10 times, we are sorry, but you may no longer make a submission for this project.</li>
<li>If you feel this is by error, open a private ED discussion asking a TA to review it. Note that any decision will be based on the data provided by the Gradescope audit logs.</li>
</ol>
<h2><strong>Error page</strong></h2>
<strong><u>Wait a litle and retry (it may be a VM speed issue)</u></strong>

<ul>
<li>Close your browser</li>
<li>Access the page that errored</li>
</ul>
<strong><u>If the above did not resolve the error:</u></strong>

<ul>
<li>Stop the Container:
<ul>
<li>Click on the Menu Launcher Start Button (Hummingbird button).</li>
<li>Choose The Menu Option System Tools, then the Menu Link QTerminal.</li>
<li>Inside the Terminal window run the command:&nbsp;<strong>sudo bash StopContainer.sh</strong></li>
<li>You can proceed to the next step after you see the following output: Container Stopped, currrent datetime.</li>
</ul>
</li>
<li>Start the Container:
<ul>
<li>Click on the Menu Launcher Start Button (Hummingbird button).</li>
<li>Choose The Menu Option System Tools, then the Menu Link QTerminal.</li>
<li>Inside the Terminal window run the command:&nbsp;<strong>sudo bash StartContainer.sh</strong></li>
<li>You may close the Terminal Window after you see the output: Container Started, currrent datetime.</li>
</ul>
</li>
</ul>
<strong><u>If the above did not resolve the error:</u></strong>

<ul>
<li>Restart the VM</li>
<li>Login to the VM</li>
<li>Stop the Application:
<ul>
<li>Click on the Menu Launcher Start Button (Hummingbird button).</li>
<li>Choose The Menu Option System Tools, then the Menu Link QTerminal.</li>
<li>Inside the Terminal window run the command:&nbsp;<strong>sudo bash StopContainer.sh</strong></li>
<li>You can proceed to the next step after you see the following output: Container Stopped, currrent datetime.</li>
</ul>
</li>
<li>Start the Application:
<ul>
<li>Click on the Menu Launcher Start Button (Hummingbird button).</li>
<li>Choose The Menu Option System Tools, then the Menu Link QTerminal.</li>
<li>Inside the Terminal window run the command:&nbsp;<strong>sudo bash StartContainer.sh</strong></li>
<li>You may close the Terminal Window after you see the output: Container Started, currrent datetime.</li>
</ul>
</li>
<li>Access the page that errored</li>
</ul>
<strong><u>If the above did not resolve the error:</u></strong>

<ul>
<li>Restore the VM</li>
<li>Start the VM</li>
<li>Login to the VM</li>
<li>Stop the Container:
<ul>
<li>Click on the Menu Launcher Start Button (Hummingbird button).</li>
<li>Choose The Menu Option System Tools, then the Menu Link QTerminal.</li>
<li>Inside the Terminal window run the command:&nbsp;<strong>sudo bash StopContainer.sh</strong></li>
<li>You can proceed to the next step after you see the following output: Container Stopped, currrent datetime.</li>
</ul>
</li>
<li>Start the Container:
<ul>
<li>Click on the Menu Launcher Start Button (Hummingbird button).</li>
<li>Choose The Menu Option System Tools, then the Menu Link QTerminal.</li>
<li>Inside the Terminal window run the command:&nbsp;<strong>sudo bash StartContainer.sh</strong></li>
<li>You may close the Terminal Window after you see the output: Container Started, currrent datetime.</li>
</ul>
</li>
<li>Access the page that errored</li>
</ul>
&nbsp;

&nbsp;

&nbsp;

<strong><u>File submission instructions:</u></strong>

This project needs to be submitted via Gradescope. Navigate to the course in Canvas, click ‘Gradescope’, click ‘Project DBSec’, and submit there.

There is a&nbsp;<strong>limit of ten submissions</strong>&nbsp;to Gradescope for this project. This is more than enough submission attempts. Task 0 should only take 1 submission (2 if you typed your id wrong *note that the return of the hash also has your gtid for Task 0). Task 3 and 4, as long as your gtid from Task 0 was correct, will only return one possible hash upon completion. This leaves seven attempts for Tasks 1 and 2.

The contents of the submission file should be the following. There is a project_dbsec.json file on the desktop in your VM with a template set up, or you can copy-paste this to your newly created&nbsp;<em><strong>project_dbsec.json</strong></em>&nbsp;file elsewhere and replace the placeholders with the hash you retrieve from each relevant task.

<em>Note: TextEdit, Vim, nano, Notepad++ is recommended to create and edit this file. Do not use LibreOffice or any Word Document editor. It must be in proper JSON format with no special characters to pass the autograder, and these Word Document editors will likely introduce special characters.</em>

If you can’t find the file in the VM, just copy this format below:

{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; “flag0”: “&lt;copy hash 0 here&gt;”,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; “flag1”: “&lt;copy hash 1 here&gt;”,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; “flag2”: “&lt;copy hash 2 here&gt;”,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; “flag3”: “&lt;copy hash 3 here&gt;”,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; “flag4”: “&lt;copy hash 4 here&gt;”,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; “flag5”: “&lt;copy hash 5 here&gt;”,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; “flag6”: “&lt;copy hash 6 here&gt;”&nbsp;}

An example of what the submitted file content should look like:

{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; “flag0”: “f7e194f29d16585c0f67fd3fd80708da918248870724535d32db2b3d80519”,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; “flag1”: “5b6f185b9e8c6”,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; “flag2”: “04dd7275ae252”,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; “flag3”: “29dfd3ff18d7f47c31aba16afaf50”,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; “flag4”: “67faba1d6f18e1945d707245113d3”,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; “flag5”: “6cda4ff7c31aba10f1bb1cb88d7f4”,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; “flag6”: “f66113d6afaf5f7fba34bc05429a7”&nbsp;}

&nbsp;
